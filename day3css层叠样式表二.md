# css层叠样式表二

## 目标：

1. 能够使用emmet语法
2. 能够使用css复合选择器
3. 能够写出伪类选择器的使用规范
4. 能够说出元素有几种显示模式
5. 能够写出元素显示模式的相互转换代码
6. 能够写出北京图片的设置方式
6. 能够计算css的权重

## 目录：

1. emmet语法
2. css的复合选择器
3. css的元素显示模式
4. css的背景
5. css的三大特性
6. css的注释

## 一、emmet语法

Emmet语法前身是zen coding，它使用缩写，来提高html/css的编写速度，vscode内部已经集成该语法。

### 1.1快速生成html结构语法

- 生成标签直接输入标签名按tab键即可，比如div 然后tab键，就可以生成`<div> </div>`
- 如果想要生成多个相同的标签，加上*就可以了，比如 `div*3` 就可以快速生成三个div标签
- 如果有父子级关系的标签，就可以用>，比如ul>li  就可以生成一个ul标签，里面包含一个li标签。
- 如果有兄弟关系的标签，用+号就可以了，比如 div+p
- 如果生成带有类名或者id名字的，直接写.demo 或者#two 按tab键就可以了
- 如果生成的div类名是有顺序的，可以用自增符号$
- 如果想要在生成的标签内部写内容可以用{}表示

### 1.2快速生成css样式语法

css基本采取简写的形式即可。

- 比如 w200 按tab 可以生成 width: 200px;
- 比如 lh26 按tab 可以生成line-height: 26px;

### 1.3快速格式化代码

vscode快速格式化代码：

pc：shift+alt+f

mac：option+shift+f

也可以设置当我们 保存页面的时候自动格式化代码：

旧版本：

- 文件->首选项->设置；

- 搜索emmet.include

- 在setting.json下的【用户】中添加下面语句：

  "Editor.formatOnType":true;

  "Editor.formatOnSave":true;

新版本：

- 文件->首选项->设置；

- 搜索Editor: Format On Save 勾选该选项即可。

  ![image-20220518163204651](https://raw.githubusercontent.com/liujunweipython/tuchuang/main/img/image-20220518163204651.png)

## 二、css的复合选择器

在css中，可以根据选择器的类型分为基础选择器和复合选择器，复合选择器是建立在基础选择器之上，对基本选择器进行组合形成的。

- 复合选择器可以更准确、更高效的选择目标元素(标签)
- 复合选择器是由两个或多个基础选择器，通过不同的方式组合而成的
- 常用的复合选择器：**后代选择器、子选择器、并集选择器、伪类选择器**等

### 2.1后代选择器(重要)

后代选择器又称包含选择器，可以选择父元素里面的子元素。其写法就是把外层标签写在最前面，内层标签写在后面，中间用空格分隔。当标签发生嵌套式，内层标签就成为外层标签的后代。

语法：

```css
元素1 元素2 {
  样式声明
}
```

- 上述语法表示选择元素1里面的所有元素2(元素2是后代元素)

例如：

```css
ul li {样式声明}  <!-- 选择ul里面所有的li标签元素 -->
```

- 元素1和元素2中间用空格隔开
- 元素1是父级，元素2是子集，最终选择的是元素2
- 元素2可以是儿子，也可以是孙子，只要是元素1的后代即可。
- 元素1和元素2可以是任意基础选择器

### 2.2子选择器(重要)

子元素选择器(子选择器)只能作为某种元素的最近一级子元素。简单理解就是选亲儿子元素

语法：

```css
元素1>元素2 {样式声明}
```

上述语法表示元素1里面的所有直接后代元素2。

例如：

```
div>p {样式声明}   <!-- 选择div里面所有最近一级p标签元素 -->
```

- 元素1和元素2中间用大于号隔开
- 元素1是父级，元素2是子级，最终选择的是元素2
- 元素2必须是亲儿子，其孙子，重孙子之类都不归他管，也可以称为亲儿子选择器。

### 2.3提问

问题1:请将下面的链接文字修改为红色。

```css
<div class="nav">
    <ul>
        <li><a href="#">百度1</a></li>
        <li><a href="#">百度2</a></li>
    </ul>
</div>
```

答案：

```css
<style>
    .nav ul li a {
        color: red;
    }
</style>
```

问题2:请将下面的大肘子文字修改为红色。

```css
<div>
    <a href="">大肘子</a>
    <ul>
        <li><a href="#">猪头</a></li>
        <li><a href="#">猪尾巴</a></li>
    </ul>
</div>
```

答案：

```css
<style>
    .nav>a {
        color: red;
    }
</style>
```

### 2.4并集选择器

并集选择器可以选择多组标签，同时为他们定义相同的样式。通常用于集体声明。

并集选择器是各选择器通过英文逗号(,)连接而成，任何形式的选择器都可以作为并集选择器的一部分。

语法：

```css
元素1,元素2 {样式声明}
```

上述语法表示**选择元素1和元素2。**

例如：

```css
ul,div {样式声明}   <!-- 选择ul和div标签元素 -->
```

- 元素1和元素2中间用逗号隔开。
- 逗号可以理解为和的意思。
- 并集选择器通常用于集体声明。

### 2.5伪类选择器

伪类选择器用于向某些选择器添加特殊的效果，比如给链接添加特殊效果，或选择第1个，第n个元素。

伪类选择器书写最大特点是**用冒号(:)表示**，比如:hover、:first-child

伪类选择器有很多种，比如链接伪类、结构伪类等，这里讲解常用的链接伪类选择器。

#### 2.5.1链接伪类选择器

| 属性      | 作用                                 |
| --------- | ------------------------------------ |
| a:link    | 选择所有未被访问的链接               |
| a:visited | 选择所有已被访问的链接               |
| a:hover   | 选择鼠标指针选中的链接               |
| A:active  | 选择活动链接(鼠标按下未被弹起的链接) |

**伪类选择器注意事项：**

- 为了确保生效，要按照LVHA的顺序声明a:link—a:visited—a:hover—a:active（顺序不可以颠倒）
- 因为a链接在浏览器中具有默认样式，所以我们实际工作中都需要给链接单独指定样式

**链接伪类选择器实际开发中的写法：**

```css
 <!-- a是标签选择器，所有的链接 -->
a {
    color: #333;
    text-decoration: none;
}

 <!-- a:hover是链接伪类选择器，鼠标经过 -->
a:hover {
    color: red;   鼠标经过时，由原来的黑色变为红色
    text-decoration: underline;  鼠标经过时，链接加下划线
}
```

### 2.6:focus选择器

:focus伪类选择器用于选取焦点的表单元素

焦点就是光标，一般情况`<input>`类表单元素才能获取，因此这个选择器也主要针对于表单元素来说。

```css
input:focus {
    background-color: pink;
}
```

### 2.7复合选择器总结

| 选择器         | 作用                   | 特征             | 使用情况 | 隔开符号及用法                         |
| -------------- | ---------------------- | ---------------- | -------- | -------------------------------------- |
| 后代选择器     | 用来选择后代元素       | 可以是子孙后代   | 较多     | 符号是空格，例如.nav a                 |
| 子选择器       | 用来选择最近一级元素   | 只选亲儿子       | 较少     | 符号是大于号，例如.nav>li              |
| 并集选择器     | 选择某些相同样式的元素 | 可以用于集体声明 | 较多     | 符号是逗号，例如.nav,.header           |
| 链接伪类选择器 | 选择不同状态的链接     | 跟链接相关       | 较多     | 重点记住a {} 和 a:hover {}实际开发写法 |
| :focus选择器   | 选择获得光标的表单     | 跟表单相关       | 较少     | input:focus 记住这个写法               |

## 三、css的元素显示样式

### 3.1什么是元素的显示模式

作用：网页的标签非常多，在不同的地方会用到不同类型的标签，了解他们的特点可以更好的布局我们的页面。

**元素显示模式就是元素以什么方式进行显示**，比如div自己独占一行，比如一行可以放多个span标签。

html元素一般分为**块元素**和**行内元素**两种类型

### 3.2元素显示模式的分类

#### 3.2.1块元素

常见的块元素有`<h1>~<h6>、<p>、<div>、<ul>、<ol>、<li>`等，其中div标签就是最典型的块元素

块元素的特点：

- 比较霸道，自己独占一行
- 高度，宽度，外边剧以及内边距都可以控制
- 宽度默认是容器(父级宽度)的100%
- 是一个容器及盒子，里面可以放行内元素或者块级元素

**注意：**

- 文字类的元素不能使用块级元素
- p标签主要用于存放文字，因此p里面不能放块级元素，特别是不能放div
- 同理，h1～h6等都是文字类块级标签，里面也不能放其他块级元素

#### 3.2.2行内元素

常见的行内元素有`<a> 、<strong>、<b>、<em>、<i>、<del>、<s>、<ins>、<u>、<span>`等，其中span标签是典型的行内元素。有地方也将行内元素称为内链元素

行内元素的特点：

- 相邻行内元素在一行上，一行可以显示多个
- 高、宽直接设置无效
- 默认宽度是它本身内容的宽度
- 行内元素只能容纳文本或其他行内元素

**注意：**

- 链接里面不能再放链接
- 特殊情况a里面可以放块元素，但是给a转换一下块级模式最安全

#### 3.2.3行内块元素

在行内元素中有几个特殊的标签—`<img/>、<input/>、 <td>`，他们同时具有块元素和行内元素的特点。有些资料称他们为行内块元素。

行内块元素的特点：

- 和相邻行内元素在一行上，但是他们之间会有空白缝隙。一行可以显示多个(行内元素特点)
- 默认宽度就是它本身内容的宽度(行内元素特点)
- 高度、行高、外边剧以及内边距都可以控制(块元素特点)

#### 3.2.4元素显示模式总结

| 元素模式   | 元素排列               | 设置样式                 | 默认宽度         | 包含                     |
| ---------- | ---------------------- | ------------------------ | ---------------- | ------------------------ |
| 块级元素   | 一行只能放一个块级元素 | 可以设置宽度和高度       | 容器的100%       | 容器级可以包含任意标签   |
| 行内元素   | 一行能放多个行内元素   | 不可以直接设置宽度和高度 | 它本身内容的宽度 | 容纳文本或者其他行内元素 |
| 行内块元素 | 一行放多个行内块元素   | 可以设置宽度和高度       | 它本身内容的宽度 |                          |

### 3.3元素显示模式的转换

特殊情况下，我们需要元素模式的转换，简单理解：一个模式的元素需要另外一种模式的特性，比如想要增加链接a的触发范围。

- 转换为块元素：display:block;
- 转换为行内元素：display:inline;
- 转换为行内块元素：display:inline-block;

```css
    <style>
        a {
            width: 150px;
            height: 50px;
            background-color: pink;
            /* 把行内元素 a 转换为 块级元素 */
            display: block;
        }

        div {
            width: 300px;
            height: 100px;
            background-color: purple;
            /* 把 div 块级元素转换为行内元素 */
            display: inline;
        }

        span {
            width: 300px;
            height: 30px;
            background-color: skyblue;
            /* 把span行内元素转换为行内块元素 */
            display: inline-block;
        }
    </style>

<body>
    <a href="#">金星阿姨</a>
    <a href="#">金星阿姨</a>
    <div>我是块级元素</div>
    <div>我是块级元素</div>
    <span>行内元素转换为行内块元素</span>
    <span>行内元素转换为行内块元素</span>
</body>
```

## 四、案例:简介版小米侧边栏

案例的核心思路分为两步：

- 把链接a转换为块级元素，这样链接就可以单独占一行了，并且有宽度和高度。
- 鼠标经过a给链接设置背景色

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        a {
            display: block;
            width: 230px;
            height: 40px;
            font-size: 14px;
            text-decoration: none;
            color: aliceblue;
            background-color: dimgray;
            text-indent: 2em;
          	line-height: 40px;
        }
        a:hover {
            background-color: coral;
        }
    </style>
</head>
<body>
    <a href="#">手机 电话卡</a>
    <a href="#">电视 盒子</a>
    <a href="#">笔记本 平板</a>
    <a href="#">出行 穿戴</a>
    <a href="#">智能 路由器</a>
    <a href="#">健康 儿童</a>
    <a href="#">耳机 音响</a>
</body>
</html>
```

### 4.1单行文字垂直居中

css没有给我们提供文字垂直居中的代码，这里我们可以使用小技巧实现

解决方案：让文字的行高等于盒子的高度，就可以让文字在当前盒子内垂直居中

简单理解：行高的上空隙和下空隙会把文字挤到中间，如果行高小于盒子高度，文字会偏上，如果行高大于盒子高度，则文字会偏下。

## 五、css的背景

通过css背景属性，可以给页面元素添加背景样式。

背景属性可以设置背景颜色、背景图片、背景平铺、背景图片位置、背景图像固定等。

### 5.1背景颜色

background-color:属性定义了元素的背景颜色

```css
background-color: 颜色值;
```

一般情况下元素背景颜色默认是transparent(透明的)，我们也可以手动指定背景颜色为透明色。

### 5.2背景图片

background-image属性描述了元素的背景图像。实际开发常见于logo或者一些装饰性的小图片或者是超大的背景图片，优点是非常便于控制位置(精灵图也是一种运用场景)

```css
 background-image: none｜url(图片地址);
```

| 参数值 | 作用                             |
| ------ | -------------------------------- |
| none   | 无背景图（默认的）               |
| url    | 使用绝对或者相对地址指定背景图像 |

### 5.3背景平铺

如果需要html页面上对背景图像进行平铺，也可以使用background-repeat属性

```css
background-repeat: repeat｜no-repeat｜repeat-x｜repeat-y;
```

| 参数值    | 作用                               |
| --------- | ---------------------------------- |
| repeat    | 背景图在纵向和横向上平铺（默认的） |
| no-repeat | 背景图像不平铺                     |
| repeat-x  | 背景图像在x轴上平铺（横向平铺）    |
| repeat-y  | 背景图像在y轴上平铺（纵向平铺）    |

### 5.4背景图片位置

利用background-position属性可以改变图片在背景中的位置。

```css
background-position: x y;
```

参数代表的意思是：x轴坐标和y轴坐标。可以使用**方位名词**或者**精确单位**

| 参数值   | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| length   | 百分数｜由浮点数字和单位标识符组成的长度值                   |
| position | top（上）｜center（居中）｜bottom（下，底部）｜left（左）｜center（居中）｜right（右）方位名词 |

- 参数是方位名词：

  如果指定的两个值都是方位名词，则两个值的前后顺序无关，比如left top和top left效果是一样的.

  如果只指定了一个方位名词，另一个省略，则第二个默认是居中对齐

- 参数是精确单位

  如果参数是精确坐标，那么第一个肯定是x坐标，第二个一定是y坐标。

  如果只指定一个数值，那该数值一定是x坐标，另一个默认垂直居中。

- 参数是混合单位

  如果指定的两个值是精确单位和方位名词混合使用，则第一个值是x坐标，第二个值是y坐标。

### 5.5背景图像固定（背景附着）

background-attachment属性设置背景图像是否固定或者随着页面的其余部分滚动

background-attachment后期可以制作视差滚动效果。

```css
background-attachment: scroll|fixed;
```

| 参数   | 作用                       |
| ------ | -------------------------- |
| scroll | 背景图像是随着对象内容滚动 |
| fixed  | 背景图像固定               |

### 5.6背景复合写法

为了简化背景属性的代码，我们可以将这些属性合并简写在同一个属性background中，从而节约代码量。

当使用简写时，没有特定的书写顺序，一般习惯约定顺序为：

background:背景颜色 背景图片地址 背景平铺 背景图像滚动 背景图片位置

```css
顺序：
background: background-color background-image background-repeat background-attachment background-positio


background: transparent url(images/bg.jpg) no-repeat fixed center 40px;

```

### 5.7背景色半透明

css3为我们提供了背景颜色半透明的效果

```css
background: rgba(0, 0, 0, 0.3);
```

- rgba中的r代表red，g代表green，b代表blue，a代表alpha透明度，取值范围在0～1之间
- 0.3中的0可以省略，写为background: rgba(0, 0, 0, .3); 也是可以的
- 注意：背景半透明是指盒子背景半透明，盒子里面的内容不受影响
- css3新增属性，是IE9+版本浏览器才支持
- 但是现在实际开发我们不太关注兼容性写法，可以放心使用

### 5.8背景总结

| 属性                  | 作用           | 值                                               |
| --------------------- | -------------- | ------------------------------------------------ |
| background-color      | 背景颜色       | 预定义的颜色值/十六进制/rgb代码                  |
| background-image      | 背景图片       | url(图片路径)                                    |
| background-repeat     | 是否平铺       | repeat/no-repeat/repeat-x/repeat-y               |
| background-position   | 背景位置       | 分别是x和y的坐标                                 |
| background-attachment | 背景附着       | scroll（背景滚动）/fixed（背景固定）             |
| 背景简写              | 书写更简单     | 背景颜色 背景图片 背景平铺 背景滚动 背景位置     |
| 背景色半透明          | 背景颜色半透明 | background: rgba(0, 0, 0, 0.3);  后面必须是4个值 |

## 六、css三大特性

css有三个非常重要的特性：层叠性、继承性、优先级。

### 6.1层叠性

相同选择器给设置相同的样式，此时一个样式就会覆盖另一个冲突的样式。层叠性主要解决样式冲突的问题

层叠性原则：

- 样式冲突，遵循的原则是就近原则，哪个样式离结构近(后写的样式会覆盖前面的样式)，就执行哪个样式
- 样式不冲突，不会层叠

### 6.2继承性

css中的继承：子标签会继承父标签的某些样式，如文本颜色和字号。简单理解就是子承父业。

- 恰当的使用继承可以简化代码，降低css样式的复杂性
- 元素可以继承父元素样式（text-，font-，line-这些元素开头的可以继承，以及coloe属性）

行高的继承：

```css
<style>
    body {
        font: 12px/1.5 "微软雅黑";
    }
</style>
```

- 行高可以跟单位也可以不跟单位
- 如果子元素没有设置行高，则会继承父元素的行高为1.5
- 此时子元素的行高是：当前子元素文字大小*1.5
- body行高是1.5这样写法最大的优势就是里面子元素可以根据自己文字大小自动调整行高

### 6.3优先级

当一个元素指定多个选择器，就会有优先级的产生

- 选择器相同，则指定层叠性

- 选择器不同，则根据选择器权重执行

  | 选择器               | 选择器权重 |
  | -------------------- | ---------- |
  | 继承或者*            | 0,0,0,0    |
  | 元素选择器           | 0,0,0,1    |
  | 类选择器，伪类选择器 | 0,0,1,0    |
  | ID选择器             | 0,1,0,0    |
  | 行内样式 style=""    | 1,0,0,0    |
  | !important 重要的    | 无穷大     |

优先级注意点：

- 权重是有4组数字组成，但是不会有进位
- 可以理解为类选择器永远大于元素选择器，id选择器永远大于类选择器，以此类推
- 等级判断从左向右，如果某一位数值相同，则判断下一位数值
- 可以简单记忆法：通配符和继承权重为0，标签选择器为1，类(伪类)选择器为10，id选择器为100，行内样式为1000，!important 无穷大
- 继承的权重为0，如果该元素没有直接选中，不管父元素权重有多高，子元素得到的权重都是0

**权重叠加：**如果是复合选择器，则会有权重叠加，需要计算权重。

- div ul li ------>0,0,0,3
- .nav ul li ------>0,0,1,2
- a:hover ------>0,0,1,1
- .nav a ------>0,0,1,1
